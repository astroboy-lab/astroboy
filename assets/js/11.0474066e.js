(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{368:function(s,t,a){"use strict";a.r(t);var e=a(45),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"_3-x-升级指南"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-x-升级指南"}},[s._v("#")]),s._v(" 3.X 升级指南")]),s._v(" "),a("h2",{attrs:{id:"主要改动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主要改动"}},[s._v("#")]),s._v(" 主要改动")]),s._v(" "),a("ul",[a("li",[s._v("【Break Change】Astroboy 异步化启动流程\n"),a("ul",[a("li",[s._v("新增 "),a("code",[s._v("Astroboy#run()")]),s._v(" 方法用于启动应用")]),s._v(" "),a("li",[a("code",[s._v("boot.js")]),s._v(" 支持导出异步函数")])])])]),s._v(" "),a("h2",{attrs:{id:"升级步骤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级步骤"}},[s._v("#")]),s._v(" 升级步骤")]),s._v(" "),a("h3",{attrs:{id:"_1-升级-astroboy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-升级-astroboy"}},[s._v("#")]),s._v(" 1. 升级 Astroboy")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yarn add astroboy@3.0.0\n")])])]),a("h3",{attrs:{id:"修改应用启动方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改应用启动方式"}},[s._v("#")]),s._v(" 修改应用启动方式")]),s._v(" "),a("p",[s._v("原来直接实例化 Astroboy 对象，即可完成应用的启动流程。3.X 将其拆为了两步：1.实例化应用对象，2.启动应用。需要将"),a("code",[s._v("app/app.js")]),s._v("改为下面的例子：")]),s._v(" "),a("div",{staticClass:"language-diff extra-class"},[a("pre",{pre:!0,attrs:{class:"language-diff"}},[a("code",[a("span",{pre:!0,attrs:{class:"token unchanged"}},[a("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[s._v(" ")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("const Astroboy = require('astroboy');\n")])]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token deleted-sign deleted"}},[a("span",{pre:!0,attrs:{class:"token prefix deleted"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" new Astroboy();\n")])]),a("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" const app = new Astroboy();\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v("\n")]),a("span",{pre:!0,attrs:{class:"token prefix inserted"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token line"}},[s._v(" app.run()\n")])])])])]),a("p",[s._v("另外，"),a("code",[s._v("run().then(...)")]),s._v("会在应用启动成功后执行。")])])}),[],!1,null,null,null);t.default=r.exports}}]);