(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{357:function(t,r,s){t.exports=s.p+"assets/img/1.3b8dccb6.jpg"},382:function(t,r,s){"use strict";s.r(r);var e=s(45),a=Object(e.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"框架分层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#框架分层"}},[t._v("#")]),t._v(" 框架分层")]),t._v(" "),e("p",[t._v("Astroboy 框架分层是在 Koa 洋葱模型基础之上，并结合传统 MVC 分层架构，如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:s(357),alt:"框架分层"}})]),t._v(" "),e("h3",{attrs:{id:"_1-中间件层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-中间件层"}},[t._v("#")]),t._v(" 1. 中间件层")]),t._v(" "),e("p",[t._v("在 Astroboy 框架内部，已经封装了几个最基础的中间件：")]),t._v(" "),e("ul",[e("li",[t._v("astroboy-body 请求体解析中间件")]),t._v(" "),e("li",[t._v("astroboy-router 路由解析中间件")]),t._v(" "),e("li",[t._v("astroboy-security-xss XSS 过滤中间件")]),t._v(" "),e("li",[t._v("...")])]),t._v(" "),e("p",[e("strong",[t._v("中间件一般在什么场景下使用？")])]),t._v(" "),e("ul",[e("li",[t._v("登录态校验")]),t._v(" "),e("li",[t._v("请求日志埋点")])]),t._v(" "),e("h3",{attrs:{id:"_2-router-路由层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-router-路由层"}},[t._v("#")]),t._v(" 2. Router 路由层")]),t._v(" "),e("p",[t._v("根据 HTTP 请求路径，转发请求到 Controller 某个具体的方法。")]),t._v(" "),e("h3",{attrs:{id:"_3-controller-控制器层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-controller-控制器层"}},[t._v("#")]),t._v(" 3. Controller 控制器层")]),t._v(" "),e("p",[t._v("接收 HTTP 请求参数，并对请求参数进行校验，然后调用一个或多个 Service 层提供的方法，最后把 Service 层返回的数据返回给前端，可以是 HTML 字符串或 JSON 格式的数据。")]),t._v(" "),e("h3",{attrs:{id:"_4-service-服务层"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-service-服务层"}},[t._v("#")]),t._v(" 4. Service 服务层")]),t._v(" "),e("p",[t._v("该层主要承载业务逻辑，但凡是业务逻辑的，都应该写在这一层。")])])}),[],!1,null,null,null);r.default=a.exports}}]);